<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç»™æœ€çˆ±çš„ä½  â¤ï¸</title>
    <link href="https://fonts.googleapis.com/css2?family=Ma+Shan+Zheng&family=ZCOOL+QingKe+HuangYou&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Ma Shan Zheng', 'ZCOOL QingKe HuangYou', cursive, sans-serif;
            background-color: #fff5f7;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            position: relative;
            overflow: hidden;
        }
        
        /* çˆ±å¿ƒèƒŒæ™¯æ ·å¼ */
        .heart-background {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="%23ffb6c1" opacity="0.15" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>');
            background-repeat: no-repeat;
            background-position: center;
            background-size: 70% auto;
            z-index: -1;
        }
        
        .trigger-link {
            font-size: 28px;
            color: #ff6b93;
            text-decoration: none;
            padding: 18px 35px;
            border: 3px solid #ff6b93;
            border-radius: 50px;
            transition: all 0.3s;
            background-color: rgba(255, 255, 255, 0.8);
            z-index: 100;
            position: relative;
            box-shadow: 0 5px 15px rgba(255, 107, 147, 0.2);
            letter-spacing: 2px;
        }
        
        .trigger-link:hover {
            background-color: #ff6b93;
            color: white;
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(255, 107, 147, 0.4);
        }
        
        .trigger-link.hidden {
            display: none;
        }
        
        .popup {
            position: fixed;
            width: 280px;
            min-height: 110px;
            border-radius: 20px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
            z-index: 1000;
            animation: fadeIn 0.4s;
            border: 2px solid rgba(255, 255, 255, 0.5);
            backdrop-filter: blur(5px);
        }
        
        .popup.fade-out {
            animation: fadeOut 0.3s forwards;
        }
        
        .popup.final-popup {
            left: 50% !important;
            top: 50% !important;
            transform: translate(-50%, -50%) !important;
            z-index: 1001;
            animation: fadeInCenter 0.6s;
            background: linear-gradient(135deg, #ffe4e9 0%, #ffd1dc 100%);
            box-shadow: 0 0 40px rgba(255, 107, 147, 0.5);
        }
        
        .popup.love-popup {
            left: 50% !important;
            top: 50% !important;
            transform: translate(-50%, -50%) !important;
            z-index: 1001;
            animation: fadeInCenter 0.6s;
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
            box-shadow: 0 0 40px rgba(168, 237, 234, 0.5);
        }
        
        .popup-content {
            font-size: 20px;
            text-align: center;
            margin-bottom: 15px;
            word-break: break-word;
            color: #ff6b93;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);
            line-height: 1.4;
        }
        
        .love-popup .popup-content {
            color: #6a89cc;
            font-size: 24px;
        }
        
        .popup-button {
            background: linear-gradient(135deg, #ff9a9e 0%, #fad0c4 100%);
            color: white;
            border: none;
            padding: 10px 25px;
            border-radius: 50px;
            cursor: pointer;
            font-family: 'Ma Shan Zheng', 'ZCOOL QingKe HuangYou', cursive, sans-serif;
            font-size: 16px;
            transition: all 0.3s;
            box-shadow: 0 4px 10px rgba(255, 107, 147, 0.3);
            letter-spacing: 1px;
        }
        
        .popup-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(255, 107, 147, 0.4);
        }
        
        .love-popup .popup-button {
            background: linear-gradient(135deg, #6a89cc 0%, #4a69bd 100%);
            box-shadow: 0 4px 10px rgba(106, 137, 204, 0.3);
        }
        
        .image-popup {
            width: 320px;
            height: 240px;
            background-color: white;
            border-radius: 15px;
            overflow: hidden;
        }
        
        .image-popup img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        @keyframes fadeIn {
            from { 
                opacity: 0; 
                transform: translateY(-15px) scale(0.9); 
            }
            to { 
                opacity: 1; 
                transform: translateY(0) scale(1); 
            }
        }
        
        @keyframes fadeInCenter {
            from { 
                opacity: 0; 
                transform: translate(-50%, -50%) scale(0.8); 
            }
            to { 
                opacity: 1; 
                transform: translate(-50%, -50%) scale(1); 
            }
        }
        
        @keyframes fadeOut {
            from { 
                opacity: 1; 
                transform: translateY(0) scale(1); 
            }
            to { 
                opacity: 0; 
                transform: translateY(-15px) scale(0.9); 
            }
        }
        
        @keyframes pulse {
            0% { transform: translate(-50%, -50%) scale(1); }
            50% { transform: translate(-50%, -50%) scale(1.05); }
            100% { transform: translate(-50%, -50%) scale(1); }
        }
        
        .instructions {
            position: absolute;
            bottom: 30px;
            color: #ff8fa3;
            font-size: 16px;
            text-align: center;
            width: 100%;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1);
        }
        
        .floating-hearts {
            position: absolute;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }
        
        .floating-heart {
            position: absolute;
            font-size: 24px;
            color: rgba(255, 182, 193, 0.6);
            animation: float 6s ease-in-out infinite;
        }
        
        .final-popup-effect {
            position: absolute;
            width: 350px;
            height: 250px;
            border-radius: 30px;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            background: linear-gradient(45deg, rgba(255,182,193,0.3), rgba(255,255,255,0.3));
            z-index: 1000;
            animation: pulse 3s infinite, rotate 10s linear infinite;
            filter: blur(15px);
        }
        
        .love-popup-effect {
            position: absolute;
            width: 350px;
            height: 250px;
            border-radius: 30px;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            background: linear-gradient(45deg, rgba(168,237,234,0.3), rgba(255,255,255,0.3));
            z-index: 1000;
            animation: pulse 3s infinite, rotate 10s linear infinite;
            filter: blur(15px);
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(10deg); }
        }
        
        @keyframes rotate {
            0% { transform: translate(-50%, -50%) rotate(0deg); }
            100% { transform: translate(-50%, -50%) rotate(360deg); }
        }
        
        .status {
            position: absolute;
            top: 20px;
            color: #ff8fa3;
            font-size: 16px;
            text-align: center;
            width: 100%;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1);
        }
        
        .music-controls {
            position: absolute;
            top: 20px;
            right: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
            background: rgba(255, 255, 255, 0.8);
            padding: 8px 15px;
            border-radius: 50px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            z-index: 1000;
        }
        
        .music-button {
            background: transparent;
            border: none;
            font-size: 20px;
            cursor: pointer;
            color: #ff6b93;
            transition: transform 0.3s;
        }
        
        .music-button:hover {
            transform: scale(1.2);
        }
        
        .volume-slider {
            width: 80px;
            height: 4px;
            -webkit-appearance: none;
            background: #ffd1dc;
            border-radius: 2px;
            outline: none;
        }
        
        .volume-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: #ff6b93;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div class="heart-background"></div>
    <div class="floating-hearts" id="floatingHearts"></div>
    <a href="#" class="trigger-link" id="triggerLink">ç‚¹å‡»è¯•è¯•å‘¢</a>
    <div class="instructions">å°†æ˜¾ç¤º200ä¸ªéšæœºä½ç½®çš„å¯çˆ±å¼¹çª—</div>
    <div class="status" id="status">å‡†å¤‡å°±ç»ª</div>
    
    <!-- éŸ³ä¹æ§åˆ¶ -->
    <div class="music-controls">
        <button class="music-button" id="playPauseBtn">ğŸ”Š</button>
        <input type="range" min="0" max="1" step="0.1" value="0.5" class="volume-slider" id="volumeSlider">
    </div>

    <!-- éŸ³é¢‘å…ƒç´  -->
    <audio id="bgm" loop>
        <!-- ä½¿ç”¨å…è´¹æµªæ¼«èƒŒæ™¯éŸ³ä¹ -->
        <source src="assets/music/background-music.mp3" type="audio/mp3">
        æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒéŸ³é¢‘å…ƒç´ ã€‚
    </audio>

    <script>
        // å¼¹çª—æç¤ºå†…å®¹
        const tips = [
            "ä¿æŠ¤å¥½å—“å­å‘€~",
            "è®°å¾—å¤šå–æ°´å“¦ ğŸ’§",
            "è¦æƒ³æˆ‘å™¢ ğŸ’•",
            "è®°å¾—ä¼‘æ¯ä¸€ä¸‹ ğŸ›ï¸",
            "ä¿æŒå¾®ç¬‘ ğŸ˜Š",
            "ä»Šå¤©ä¹Ÿè¦å¼€å¿ƒå“¦ ğŸŒˆ",
            "å·¥ä½œè¾›è‹¦å•¦ ğŸ’ª",
            "æ„¿æ‰€æœ‰çƒ¦æ¼éƒ½æ¶ˆå¤± ğŸŒ¸",
            "è®°å¾—æŒ‰æ—¶åƒé¥­ ğŸš",
            "çœ‹ç€ä½ è®¤çœŸå¤‡è¯¾çš„æ ·å­å¥½è¿·äºº ğŸ“š",
            "æƒ³ç»™ä½ ä¸€ä¸ªå¤§å¤§çš„æ‹¥æŠ±ï¼Œè¾›è‹¦äº† ğŸ¤—",
            "å¤©æ°”å˜å†·è®°å¾—æ·»è¡£ ğŸ§¥",
            "ä½ æ˜¯æœ€æ£’çš„ï¼ â­",
            "ä¿æŒå¥½å¿ƒæƒ… ğŸµ",
            "æ³¨æ„å®‰å…¨ ğŸ›¡ï¸",
            "æ—©ç‚¹ä¼‘æ¯ ğŸŒ™",
            "ä½ çš„ç¬‘å®¹æ€»èƒ½æ²»æ„ˆæˆ‘ ğŸ¥°",
            "å¤©å¤©å¼€å¿ƒ ğŸ˜„",
            "çˆ±ä½ å“¦ ğŸ’˜",
            "ç…§é¡¾å¥½è‡ªå·± ğŸŒ¸",
            "æœŸå¾…ä¸‹ä¸€æ¬¡è§é¢ ğŸŒ·",
            "æ¯å¤©éƒ½è¦å…ƒæ°”æ»¡æ»¡ ğŸ‘‘"
        ];
        
        // å¤šå½©èƒŒæ™¯é¢œè‰²é€‰é¡¹
        const bgColors = [
            '#ffe4e9', // æµ…ç²‰çº¢
            '#ffdde1', // æ·¡ç²‰çº¢
            '#f8c8dc', // æ¨±èŠ±ç²‰
            '#fadadd', // å©´å„¿ç²‰
            '#ffecf1', // æ·¡ç²‰ç™½
            '#e6f7ff', // æµ…è“è‰²
            '#f0f8ff', // çˆ±ä¸½ä¸è“
            '#f0ffff', // å¤©è“è‰²
            '#fffaf0', // æµ…é»„è‰²
            '#fffff0', // è±¡ç‰™ç™½
            '#fffacd', // æŸ æª¬ç»¸
            '#fdf5e6', // æ—§è•¾ä¸
            '#f3e5f5', // æµ…ç´«è‰²
            '#f8f0ff', // æ·¡ç´«
            '#e6e6fa', // è–°è¡£è‰ç´«
            '#e1bee7', // æµ…ç´«ç½—å…°
            '#ffdfe4', // æµ…ç«ç‘°
            '#fce4ec', // æ·¡ç´«ç²‰
            '#f9d6e4', // æµ…ç´«ç½—å…°
            '#ffd6e0'  // æµ…ç«ç‘°ç²‰
        ];
        
        // å›¾ç‰‡URLæ•°ç»„ - ä½¿ç”¨191å¼ å›¾ç‰‡
        const imageUrls = Array.from({length: 191}, (_, i) => {
            return `assets/images/photo-${i+1}.jpg`;
        });
        
        // è·å–DOMå…ƒç´ 
        const bgm = document.getElementById('bgm');
        const playPauseBtn = document.getElementById('playPauseBtn');
        const volumeSlider = document.getElementById('volumeSlider');
        
        // åˆå§‹åŒ–éŸ³ä¹è®¾ç½®
        bgm.volume = 0.5;
        
        // æ’­æ”¾/æš‚åœæŒ‰é’®äº‹ä»¶
        playPauseBtn.addEventListener('click', function() {
            if (bgm.paused) {
                bgm.play();
                playPauseBtn.textContent = 'ğŸ”Š';
            } else {
                bgm.pause();
                playPauseBtn.textContent = 'ğŸ”‡';
            }
        });
        
        // éŸ³é‡æ§åˆ¶äº‹ä»¶
        volumeSlider.addEventListener('input', function() {
            bgm.volume = this.value;
        });
        
        // çŠ¶æ€æ›´æ–°
        function updateStatus(message) {
            document.getElementById('status').textContent = message;
        }
        
        // åˆ›å»ºæ¼‚æµ®çˆ±å¿ƒ
        function createFloatingHearts() {
            const container = document.getElementById('floatingHearts');
            for (let i = 0; i < 15; i++) {
                const heart = document.createElement('div');
                heart.className = 'floating-heart';
                heart.innerHTML = 'â¤';
                heart.style.left = `${Math.random() * 100}%`;
                heart.style.top = `${Math.random() * 100}%`;
                heart.style.animationDelay = `${Math.random() * 5}s`;
                container.appendChild(heart);
            }
        }
        
        // åˆ›å»ºå¼¹çª—å‡½æ•°
        function showPopup() {
            // éšæœºé€‰æ‹©æç¤ºå’ŒèƒŒæ™¯è‰²
            const tipText = tips[Math.floor(Math.random() * tips.length)];
            const bgColor = bgColors[Math.floor(Math.random() * bgColors.length)];
            
            // åˆ›å»ºå¼¹çª—å…ƒç´ 
            const popup = document.createElement('div');
            popup.className = 'popup';
            popup.style.backgroundColor = bgColor;
            
            // éšæœºä½ç½®
            const maxX = window.innerWidth - 320;
            const maxY = window.innerHeight - 150;
            const x = Math.floor(Math.random() * maxX);
            const y = Math.floor(Math.random() * maxY);
            popup.style.left = `${x}px`;
            popup.style.top = `${y}px`;
            
            // åˆ›å»ºå†…å®¹
            const content = document.createElement('div');
            content.className = 'popup-content';
            content.textContent = tipText;
            
            // åˆ›å»ºæŒ‰é’®
            const button = document.createElement('button');
            button.className = 'popup-button';
            button.textContent = 'å¥½çš„';
            button.onclick = function() {
                popup.classList.add('fade-out');
                setTimeout(() => {
                    if (document.body.contains(popup)) {
                        document.body.removeChild(popup);
                    }
                }, 300);
            };
            
            // ç»„è£…å¼¹çª—
            popup.appendChild(content);
            popup.appendChild(button);
            
            // æ·»åŠ åˆ°é¡µé¢
            document.body.appendChild(popup);
            
            return popup;
        }
        
        // åˆ›å»ºæœ€ç»ˆå¼¹çª—ç‰¹æ•ˆ
        function createFinalPopupEffect() {
            const effect = document.createElement('div');
            effect.className = 'final-popup-effect';
            document.body.appendChild(effect);
            return effect;
        }
        
        // æ˜¾ç¤ºæœ€ç»ˆå¼¹çª—
        function showFinalPopup() {
            // åˆ›å»ºç‰¹æ•ˆ
            const effect = createFinalPopupEffect();
            
            const popup = document.createElement('div');
            popup.className = 'popup final-popup';
            
            const content = document.createElement('div');
            content.className = 'popup-content';
            content.textContent = 'æˆ‘æƒ³ä½ äº† ğŸ’•';
            content.style.fontSize = '24px';
            
            const button = document.createElement('button');
            button.className = 'popup-button';
            button.textContent = 'æˆ‘ä¹Ÿæƒ³ä½ ';
            button.onclick = function() {
                popup.classList.add('fade-out');
                effect.remove();
                setTimeout(() => {
                    if (document.body.contains(popup)) {
                        document.body.removeChild(popup);
                    }
                    // å¼€å§‹æ˜¾ç¤ºå›¾ç‰‡å¼¹çª—
                    showImagePopups();
                }, 300);
            };
            
            popup.appendChild(content);
            popup.appendChild(button);
            document.body.appendChild(popup);
        }
        
        // æ˜¾ç¤ºå›¾ç‰‡å¼¹çª— - éšæœºæ˜¾ç¤º191å¼ å›¾ç‰‡
        function showImagePopups() {
            updateStatus("å¼€å§‹æ˜¾ç¤º191å¼ å›¾ç‰‡å¼¹çª—...");
            
            // å¤åˆ¶å›¾ç‰‡URLæ•°ç»„å¹¶éšæœºæ’åº
            const shuffledImages = [...imageUrls].sort(() => Math.random() - 0.5);
            const imagePopups = [];
            
            // æ˜¾ç¤º191ä¸ªå›¾ç‰‡å¼¹çª—ï¼Œæ¯ä¸ªé—´éš”200ms
            for (let i = 0; i < 191; i++) {
                setTimeout(() => {
                    // åˆ›å»ºå›¾ç‰‡å¼¹çª—
                    const popup = document.createElement('div');
                    popup.className = 'popup image-popup';
                    
                    // éšæœºä½ç½®
                    const maxX = window.innerWidth - 350;
                    const maxY = window.innerHeight - 270;
                    const x = Math.floor(Math.random() * maxX);
                    const y = Math.floor(Math.random() * maxY);
                    popup.style.left = `${x}px`;
                    popup.style.top = `${y}px`;
                    
                    // åˆ›å»ºå›¾ç‰‡
                    const img = document.createElement('img');
                    img.src = shuffledImages[i];
                    img.alt = 'å›å¿†ç…§ç‰‡';
                    
                    popup.appendChild(img);
                    document.body.appendChild(popup);
                    imagePopups.push(popup);
                    
                    // æ›´æ–°çŠ¶æ€
                    if (i % 20 === 0) {
                        updateStatus(`å·²æ˜¾ç¤º ${i}/191 å¼ å›¾ç‰‡`);
                    }
                    
                    // å¦‚æœæ˜¯æœ€åä¸€å¼ å›¾ç‰‡ï¼Œå®‰æ’æ‰€æœ‰å›¾ç‰‡å¼¹çª—æ¶ˆå¤±
                    if (i === 190) {
                        setTimeout(() => {
                            updateStatus("æ‰€æœ‰å›¾ç‰‡å·²æ˜¾ç¤ºï¼Œå‡†å¤‡æ¶ˆå¤±...");
                            fadeImagePopups(imagePopups);
                        }, 1000);
                    }
                }, i * 200);
            }
        }
        
        // é€æ¸æ¶ˆå¤±æ‰€æœ‰å›¾ç‰‡å¼¹çª—
        function fadeImagePopups(imagePopups) {
            updateStatus(`æ­£åœ¨è®©${imagePopups.length}ä¸ªå›¾ç‰‡å¼¹çª—é€æ¸æ¶ˆå¤±...`);
            
            imagePopups.forEach((popup, index) => {
                setTimeout(() => {
                    popup.classList.add('fade-out');
                    setTimeout(() => {
                        if (document.body.contains(popup)) {
                            document.body.removeChild(popup);
                        }
                    }, 300);
                }, index * 50);
            });
            
            // å®Œæˆåæ˜¾ç¤ºæœ€ç»ˆè¡¨ç™½å¼¹çª—
            setTimeout(() => {
                updateStatus("æ‰€æœ‰å›¾ç‰‡å¼¹çª—å·²æ¶ˆå¤±");
                showFinalLovePopup();
            }, imagePopups.length * 50 + 500);
        }
        
        // æ˜¾ç¤ºæœ€ç»ˆè¡¨ç™½å¼¹çª—
        function showFinalLovePopup() {
            // åˆ›å»ºç‰¹æ•ˆ
            const effect = document.createElement('div');
            effect.className = 'love-popup-effect';
            document.body.appendChild(effect);
            
            const popup = document.createElement('div');
            popup.className = 'popup love-popup';
            
            const content = document.createElement('div');
            content.className = 'popup-content';
            content.textContent = 'å¥½å–œæ¬¢ä½ ï¼ŒçŸ¥ä¸çŸ¥é“ğŸ’™';
            
            const button = document.createElement('button');
            button.className = 'popup-button';
            button.textContent = 'çŸ¥é“å•¦';
            button.onclick = function() {
                popup.classList.add('fade-out');
                effect.remove();
                setTimeout(() => {
                    if (document.body.contains(popup)) {
                        document.body.removeChild(popup);
                    }
                    updateStatus("ä½“éªŒç»“æŸï¼Œæ„Ÿè°¢è§‚çœ‹ ğŸ’•");
                }, 300);
            };
            
            popup.appendChild(content);
            popup.appendChild(button);
            document.body.appendChild(popup);
            
            updateStatus("æ˜¾ç¤ºæœ€ç»ˆè¡¨ç™½å¼¹çª—");
        }
        
        // é€æ¸æ¶ˆå¤±æ‰€æœ‰æ–‡å­—å¼¹çª—
        function fadeAllPopups() {
            const popups = document.querySelectorAll('.popup:not(.final-popup)');
            updateStatus(`æ­£åœ¨è®©${popups.length}ä¸ªå¼¹çª—é€æ¸æ¶ˆå¤±...`);
            
            popups.forEach((popup, index) => {
                setTimeout(() => {
                    popup.classList.add('fade-out');
                    setTimeout(() => {
                        if (document.body.contains(popup)) {
                            document.body.removeChild(popup);
                        }
                    }, 300);
                }, index * 10);
            });
            
            // æ‰€æœ‰å¼¹çª—æ¶ˆå¤±åæ˜¾ç¤ºæœ€ç»ˆå¼¹çª—
            setTimeout(() => {
                showFinalPopup();
                updateStatus("æ˜¾ç¤ºæœ€ç»ˆå¼¹çª—");
            }, popups.length * 10 + 600);
        }
        
        // å®šæ—¶æ˜¾ç¤ºå¼¹çª—
        function schedulePopups(interval = 50, count = 200) {
            if (count > 0) {
                showPopup();
                updateStatus(`å·²æ˜¾ç¤º ${200 - count + 1}/200 ä¸ªå¼¹çª—`);
                setTimeout(() => {
                    schedulePopups(interval, count - 1);
                }, interval);
            } else {
                // æ‰€æœ‰å¼¹çª—æ˜¾ç¤ºå®Œæˆåï¼Œç­‰å¾…1ç§’ç„¶åå¼€å§‹æ¶ˆå¤±
                updateStatus("æ‰€æœ‰å¼¹çª—å·²æ˜¾ç¤ºï¼Œå‡†å¤‡æ¶ˆå¤±...");
                setTimeout(fadeAllPopups, 1000);
            }
        }
        
        // ç»‘å®šç‚¹å‡»äº‹ä»¶
        document.getElementById('triggerLink').addEventListener('click', function(e) {
            e.preventDefault();
            // éšè—æŒ‰é’®
            this.classList.add('hidden');
            updateStatus("å¼€å§‹æ˜¾ç¤ºå¼¹çª—...");
            
            // è‡ªåŠ¨æ’­æ”¾èƒŒæ™¯éŸ³ä¹
            bgm.play().then(() => {
                playPauseBtn.textContent = 'ğŸ”Š';
            }).catch(error => {
                console.log("è‡ªåŠ¨æ’­æ”¾è¢«é˜»æ­¢:", error);
                playPauseBtn.textContent = 'ğŸ”‡';
            });
            
            // æ¯50msæ˜¾ç¤ºä¸€ä¸ªå¼¹çª—ï¼Œå…±æ˜¾ç¤º200ä¸ª
            schedulePopups(50, 200);
        });
        
        // é¡µé¢åŠ è½½å®Œæˆååˆ›å»ºæ¼‚æµ®çˆ±å¿ƒ
        window.addEventListener('load', createFloatingHearts);
    </script>
</body>
</html>